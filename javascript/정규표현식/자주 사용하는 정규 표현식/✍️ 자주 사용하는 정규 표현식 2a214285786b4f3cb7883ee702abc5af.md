# ✍️ 자주 사용하는 정규 표현식

## 자주 사용하는 정규표현식 모음

---

```jsx
const re = /a/        --> a 가 있는 문자열
const re = /a/i       --> a 가 있는 문자열, 대소문자 구분 안함
const re = /apple/    --> apple이 있는 문자열
const re = /[a-z]/    -- a~z 사이의 모든 문자
const re = /[a-zA-Z0-9]/    -- a~z, A~Z 0~9 사이의 모든 문자
const re = /[a-z]|[0-9]/  -- a~z 혹은 0~9사이의 문자
const re = /a|b|c/   --  a 혹은 b 혹은 c인 문자
const re = /[^a-z]/  -- a~z까지의 문자가 아닌 문자("^" 부정)
const re = /^[a-z]/  -- 문자의 처음이 a~z로 시작되는 문장
const re = /[a-z]$/  -- 문자가 a~z로 끝남
const re = /[ㄱ-ㅎ]/; -- 모음만 체크
const re = /[가-힣]/; -- 자음과 모음이 합쳐진 글자만
```

```jsx
특수문자 체크 정규식
const regExp = /[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/g;

모든 공백 체크 정규식
const regExp = /\s/g;

숫자만 체크 정규식
const regExp = /[0-9]/g;

이메일 체크 정규식
const regExp = /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i;

핸드폰번호 정규식
const regExp = /^\d{3}-\d{3,4}-\d{4}$/;

일반 전화번호 정규식
const regExp = /^\d{2,3}-\d{3,4}-\d{4}$/;

아이디나 비밀번호 정규식
const regExp = /^[a-z0-9_]{4,20}$/;

휴대폰번호 체크 정규식
const regExp = /^01([0|1|6|7|8|9]?)-?([0-9]{3,4})-?([0-9]{4})$/;
```

## 케이스 분석

---

### 특정단어로 시작하는지 검사

다음예제는 검색 대상 문자열이 “https://” 또는 “https://” 로 시작하는지 검사한다.

[…]바깥의 ^은 문자열의 시작을 의미하고, ?은 앞선 패턴(아래 예제의 경우 `s` )가 0-1번 포함되는지를 의미한다.( 다시말해 s의 유무와 상관없이 http로 시작하는 지를 매칭한다.

또한 `/` 는 정규식 패턴의 여닫는 문자이므로 두번 사용시 구분이 안되기 때문에 `:` 뒤의 `\/\/` 처럼 `\` 를 통해 분리해준다.

```jsx
const url = 'https://example.com';

// 'http://' 또는 'https://'로 시작하는지 검사한다.
/^https?:\/\//.test(url); // -> true
```

다음 방법도 동일하게 작동한다.

```jsx
/^(http|https):\/\//.test(url); // -> true
```

### 아이디로 시작하는지 검사

다음예제는 검색대상 문자열이 알파벳 대소문자 또는 숫자로 시작하고 끝나며 `^[A-Za-z0-9]$`

4~10자리 글자인지 검색한다. `{4, 10}` 은 앞선 패턴(`^[A-Za-z0-9]$`)이 최소 4번 최대 10번 반복되는 문자열을 의미한다.

즉, 아이디가 알파벳 대소문자 또는 숫자로 시작하고 끝나며 4 ~ 10자리인지 검사한다.

```jsx
const id = 'abc123';

// 알파벳 대소문자 또는 숫자로 시작하고 끝나며 4 ~ 10자리인지 검사한다.
/^[A-Za-z0-9]{4,10}$/.test(id); // -> true
```

### 메일 주소 형식에 맞는지 검사

먼저 `@` 앞의 패턴을 분석하면 `0-9a-zA-Z` 가 오고 ()안에 글자가 있거나 없거나 많거나 ( `*` )이다.

()안에는 `[-_\.]` 가 있거나 없어도 되고( `?` )그뒤에는 무조권 `0-9a-zA-Z` 가 다시 와야한다는 것이다.

즉 쉽게말해 `eyo-25` 는 가능하고 `eyo-` 나 `-eyo` 처럼 `[-_\.]` 가 시작과 끝에 위치할 수 없다는 의미 이다.

다음으론 `.` 이 오기전까지 `@` 뒤로 앞의 패턴과 같은 형태가 올수있고

`.` 뒤에는 `[a-zA-Z]` 만 2-3글자 올수 있다는 것이다. ex) .kr .com

참고로 `.co.kr`도 가능한게 `.kr`이 마지막 부분이고 `.co` 는 앞에 조건에 부합하기 때문

```jsx
const email = 'ungmo2@gmail.com';

/^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/
.test(email); // -> true
```

### 핸드폰 번호 형식에 맞는지 검사

핸드폰번호는 `-` 글자 두개를 기준으로 `\d` (0-9)가 들어오고 해당 숫자의 길이만 지정해준다.

```jsx
const cellphone = '010-1234-5678';

/^\d{3}-\d{3,4}-\d{4}$/.test(cellphone); // -> true
```

### 특수 문자 포함 여부 검사

보통은 사용할 문자만 지정하고 나머지를 필터링한다.

```jsx
const target = 'abc#123';

// A-Za-z0-9 이외의 문자가 있는지 검사한다.
(/[^A-Za-z0-9]/gi).test(target); // -> true
```

다만 아래처럼 직접 특수문자를 검사할 경우 선택적으로 특수문자를 필터링할 수 있다.

```jsx
(/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi).test(target); // -> true
```

물론 아래처럼 사용할 특수문자를 추가하는 것도 가능하다.

```jsx
const target = 'abc123';

// A-Za-z0-9#!? 이외의 문자가 있는지 검사한다.
(/[^A-Za-z0-9#!?]/gi).test(target); // -> false
```

위의 target에서 replace를 사용하여 특수문자를 제거할수 있다.

```jsx
target.replace(/[^A-Za-z0-9]/gi, ''); // -> abc123
```

## 요약

---

항상 복사해서 쓰기만 했는데 이번 기회에 정리를 하면서 어떤 기능들이 있고 어떻게 작동하는지를 알 수 있어서 좀 더 적재적소에 활용할 수 있을 것으로 예상한다.

정규 표현식은 사용자가 비밀번호나 아이디, 이메일 같은 입력을 할때 잘못된 입력을 검사하는데 유용하며 이러한 기능은 문자열과 관련된 코딩 테스트에도 유용하게 사용할 수 있다.