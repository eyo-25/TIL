# 변수

[https://curryyou.tistory.com/277](https://curryyou.tistory.com/277)

### **📕** 변수의 정의

하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 공간을 식별하기 위해 붙인 이름

![sdsds.PNG](%E1%84%87%E1%85%A7%E1%86%AB%E1%84%89%E1%85%AE%20ad660cf116584749bbfb47ad780f09bb/sdsds.png)

# **📜 선언(declaration)**

### 정의

메모리공간을 확보하고 변수이름과 확보된 메모리공간의 주소를 연결해서 값을 저장할 수 있게 준비를 하는것을 말한다.

### **자바스크립트 엔진은 변수선언을 다음과같이 2단계에 거쳐 수행한다.**

1. 선언 단계 : 변수이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
2. 초기화 단계 ****: 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 `undefined`할당해 초기화하여 메모리 주소를 연결

```jsx
let age; // 값을 할당하기 까지 값은 undefined로 초기화 되어있다.
const name;
var email;
```

### **변수이름은 어디에 등록되는가?**

변수이름을 비롯한 모든 식별자는 실행 컨텍스트에 등록된다.

(실행컨텍스트는 자바스크립트 엔진이 소스코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역)

변수 이름과 변수 값은 실행 컨텍스트 내에 키/값 형식인 객체로 등록되어 관리된다.

### **변수의 실행시점과 변수 호이스팅**

변수선언은 소스코드가 한줄씩 실행되는 시점인 런타임이전에 변수가 실행된다.

그 예로 아래는 name이 선언되기 전에 콘솔에서 초기화값을 출력하는 것을 볼 수 있다.

```jsx
console.log("name") // undefined

var name = "kim"
```

이는 자바스크립트는 변수가 어디에 있든 변수선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 변수 **호이스팅**이다.

(다만 var선언과 달리 let, const 선언문은 미리되지만 초기화는 변수 선언문에 도달했을 때 실행되기에 위의 console.log에서는 ReferenceError가 발생한다.)

### **ReferenceError**

변수의 값을 읽는 것을 참조(reference)라고 한다.

하지만 선언하지 않은 식별자에 접근하면 ReferenceError(참조에러)가 발생한다.

이는 식별자를 통해 값을 참조하려했지만 자바스크립트엔진이 등록된 식별자를 찾을수 없는 에러다.

```jsx
hellow;

**Uncaught ReferenceError: hellow is not defined**
```

# **📥** 할당(assignment)

### 정의

`=`  할당연산자를 통해 선언된 변수의 메모리에 값을 할당하여 데이터를 저장하는 것을 말한다.

```jsx
age = 12;
```

### 선언문

선언과 할당을 하나의 문(statement)로 표현할 수 있다.

```jsx
let age = 12;
```

하지만 선언과 할당은 2개의 문으로 실행하며 앞서 소개한 선언은 런타임이전에 실행되고 값의 할당은 소스코드가 순차적으로 실행되는 런타임시점에서 실행

```jsx
console.log(name); //undefined ◀name이 선언/초기화 되어있어 읽을순 있어도 초기화값만 존재
var name = "kim";
console.log(name); //kim
```

### 값의 재할당

`let과 var` 로 선언된 변수에는 새로운 값을 다시 할당할 수 있다.

```jsx
let name = "jiyong";
name = "seventwo";
```

변수에 값을 재할당하면 새로운 값으로 변경이 되는데 이때 기존에 메모리공간에서 변경되는것이 아니라 **새로운 메모리공간을 확보하고 그 메모리공간에 재할당 변수를 저장**한다.

![jsre.jpg](%E1%84%87%E1%85%A7%E1%86%AB%E1%84%89%E1%85%AE%20ad660cf116584749bbfb47ad780f09bb/jsre.jpg)

또한 기존에 저장된 메모리공간은 어떤 식별자도 참조하지않는 메모리 공간임으로 자바스크립트의 가비지 콜렉터에 의해 메모리를 해제한다.