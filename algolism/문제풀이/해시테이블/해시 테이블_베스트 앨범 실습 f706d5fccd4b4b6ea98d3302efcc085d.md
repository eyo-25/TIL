# Ìï¥Ïãú ÌÖåÏù¥Î∏î_Î≤†Ïä§Ìä∏ Ïï®Î≤î Ïã§Ïäµ

[https://school.programmers.co.kr/learn/courses/30/lessons/42587](https://school.programmers.co.kr/learn/courses/30/lessons/42587)

# üòÖ **Í∏∞Ï°¥Ïóê ÌÜµÍ≥ºÌïú ÏΩîÎìú**

---

```jsx
function solution(genres, plays) {
  const obj = {};
  const genreObj = {};

  genres.forEach((genre, index) => {
    //genreObj Ï†ÄÏû•
    if (genreObj[genre] === undefined) {
      genreObj[genre] = plays[index];
    } else {
      genreObj[genre] = genreObj[genre] + plays[index];
    }

    //Ïò§Î∏åÏ†ùÌä∏ ÏÉùÏÑ±
    const newObj = {};
    newObj["index"] = index;
    newObj["ea"] = plays[index];

    if (obj[genre] === undefined) {
      obj[genre] = [newObj];
    } else {
      for (let i = 0; i < obj[genre].length; i++) {
        if (obj[genre][i].ea < newObj["ea"]) {
          obj[genre].splice(i, 0, newObj);
          break;
        } else if (obj[genre].length - 1 === i) {
          obj[genre].push(newObj);
          break;
        }
      }
    }
  });

  const array = [];

  const convertGenreObj = Object.entries(genreObj);
  convertGenreObj.forEach((element) => {
    if (array.length === 0) {
      array.push(element);
    } else {
      for (let i = 0; i < array.length; i++) {
        if (array[i][1] < element[1]) {
          array.splice(i, 0, element);
          break;
        } else if (array.length - 1 === i) {
          array.push(element);
          break;
        }
      }
    }
  });

  const answer = [];

  array.forEach((element) => {
    for (let i = 0; i < 2; i++) {
      if (obj[element[0]][i] !== undefined) {
        answer.push(obj[element[0]][i].index);
      }
    }
  });

  console.log(answer);
  return answer;
}
```

# **üòÄ Ìï¥Ïãú ÌÖåÏù¥Î∏îÏùÑ Ï†ÅÏö©Ìïú ÏΩîÎìú**

---

```jsx
function solution(genres, plays) {
      const answer = [];
      // Ïû•Î•¥Ìï©Í≥Ñ Í∞ùÏ≤¥
      const playObj = {};
      // Ïö∞ÏÑ† ÏàúÏúÑ Î∞∞Ïó¥
      const priority = [];

      for (let i = 0; i < genres.length; i++) {
        playObj[genres[i]]
          ? (playObj[genres[i]] += plays[i])
          : (playObj[genres[i]] = plays[i]);
      }
    
      for (let i = 0; i < genres.length; i++) {
          const genreObj = {genre: genres[i], play: plays[i], index: i}
          priority.push(genreObj)
      }
    
      priority.sort((a, b)=> {
          if(b.genre === a.genre) {
            return b.play - a.play;
          }else {
            return playObj[b.genre] - playObj[a.genre];
          }
      });
    
      // Ïπ¥Ïö¥Ìä∏ Ïò§Î∏åÏ†ùÌä∏
      const countObj = {};
      
      priority.forEach((el)=> {
          if(!countObj[el.genre]) {
              answer.push(el.index)
              countObj[el.genre] = 1
          } else if (countObj[el.genre] < 2) {
              answer.push(el.index)
              countObj[el.genre] = countObj[el.genre] + 1;
          }
      })
      
      // console.log(answer, countObj);
      return answer;
}
```

# üòé **Î∂ÑÏÑù**

---

ÏûÖÎ†•ÏúºÎ°ú `genres`ÏôÄ `plays`Í∞Ä ÏïÑÎûòÏôÄ Í∞ôÏù¥ Îì§Ïñ¥ ÏôîÏùÑÎïåÎ•º Í∏∞Ï§ÄÏúºÎ°ú Ìï©ÎãàÎã§.

```jsx
["classic", "pop", "classic", "classic", "pop"], [500, 600, 150, 800, 2500]
```

1Ô∏è‚É£ Î®ºÏ†Ä Ïû•Î•¥ÎßàÎã§Ïùò Ìï©ÏùÑ Íµ¨ÌïòÏó¨ `playObj`Ïóê Ï†ÄÏû•Ìï©ÎãàÎã§.

ÎßåÏïΩ `playObj[genres[i]]` Ïóê Ïû•Î•¥Í∞Ä Ï†ÄÏû•ÎêòÏñ¥ ÏûàÏúºÎ©¥ Ï†ÄÏû•Îêú Í∞íÏóêÏÑú Ìï¥Îãπ Í∞íÏóê ÎçîÌï¥ÏÑú Ï†ÄÏû•

Ïû•Î•¥Í∞Ä undefined(Ìï¥Îãπ ÌÇ§Î•º Í∞ÄÏßÑ ÌîÑÎ°úÌçºÌã∞ X)Ïù¥Î©¥ ÌòÑÏû¨ Í∞íÏùÑ Ïû•Î•¥ÌÇ§ Í∞íÏóê Ìï†ÎãπÌï¥Ï§ÄÎã§.

```jsx

for (let i = 0; i < genres.length; i++) {
  playObj[genres[i]]
    ? (playObj[genres[i]] += plays[i])
    : (playObj[genres[i]] = plays[i]);
}
```

`playObj`Îäî ÏïÑÎûòÏôÄ Í∞ôÏù¥ Ï†ÄÏû•ÎêúÎã§.

```jsx
playObj = { classic: 1450, pop: 3100 }
```

2Ô∏è‚É£ Îã§ÏùåÏúºÎ°† `priority` Î∞∞Ïó¥Ïóê genre, play, indexÏùò ÌÇ§-Í∞íÏùÑ Ï†ÄÏû• Ìï¥Ï§ÄÎã§.

```jsx
for (let i = 0; i < genres.length; i++) {
  const genreObj = {genre: genres[i], play: plays[i], index: i}
  priority.push(genreObj)
}
```

`priority`Îäî ÏïÑÎûòÏôÄ Í∞ôÏù¥ Ï†ÄÏû•ÎêúÎã§.

```jsx
[
  { genre: "classic", play: 500, index: 0 },
  { genre: "pop", play: 600, index: 1 },
  { genre: "classic", play: 150, index: 2 },
  { genre: "classic", play: 800, index: 3 },
  { genre: "pop", play: 2500, index: 4 },
];
```

3Ô∏è‚É£ ÏúÑÏóêÏÑú ÎßåÎì† `priority` Î∞∞Ïó¥ÏùÑ Ï†ïÎ†¨ Ìï¥Ï§çÎãàÎã§.

Î®ºÏ†Ä Ïû•Î•¥Í∞Ä Í∞ôÎã§Î©¥  Ïû•Î•¥Ïùò playÎüâÏùÑ Í∏∞Ï§ÄÏúºÎ°ú ÎÇ¥Î¶ºÏ∞®ÏàúÏúºÎ°ú Ï†ïÎ†¨ÌïòÍ≥†

Í∞ôÏßÄÏïäÎã§Î©¥ Ïû•Î•¥Ïùò ÌÅ¨Í∏∞(`playObj` Ïóê ÏûàÎäî Ïû•Î•¥Ïùò Ï¥ùÎüâ)ÏùÑ ÌÜµÌï¥ ÎÇ¥Î¶ºÏ∞®Ïàú Ï†ïÎ†¨Ìï©ÎãàÎã§.

```jsx
priority.forEach((el) => {
  if (!countObj[el.genre]) {
    answer.push(el.index);
    countObj[el.genre] = 1;
  } else if (countObj[el.genre] < 2) {
    answer.push(el.index);
    countObj[el.genre] = countObj[el.genre] + 1;
  }
});
```

Ï†ïÎ†¨Ïù¥ ÏôÑÎ£åÎêú `priority` Î∞∞Ïó¥

```jsx
[
  { genre: 'pop', play: 2500, index: 4 },
  { genre: 'pop', play: 600, index: 1 },
  { genre: 'classic', play: 800, index: 3 },
  { genre: 'classic', play: 500, index: 0 },
  { genre: 'classic', play: 150, index: 2 }
]
```

4Ô∏è‚É£ ÎßàÏßÄÎßâÏúºÎ°ú 2Í∞úÍπåÏßÄ Ï†ÄÏû•Ìï† Ïàò ÏûàÎèÑÎ°ù `countObj` Î°ú Ïû•Î•¥ÎßàÎã§ Ïπ¥Ïö¥Ìä∏Î•º ÏÑ∏Í≥† `priority` Î∞∞Ïó¥ÏùÑ  forEachÎ∞òÎ≥µÎ¨∏ÏúºÎ°ú ÎèåÎ©¥ÏÑú ÏàúÏÑúÎåÄÎ°ú `answer` Ïóê indexÎ•º ÎÑ£Ïñ¥ÏÑú Î¶¨ÌÑ¥Ìï¥ Ï§çÎãàÎã§.

Îã® `countObj` Ïóê Ïû•Î•¥Î•º ÌÇ§Î°ú Í∞ÄÏßÑ Í∞íÏù¥ 2Ïù∏Í≤ΩÏö∞ ÎçîÏù¥ÏÉÅ answerÏóê Ï†ÄÏû•ÌïòÏßÄ ÏïäÏäµÎãàÎã§.

```jsx
// Ïπ¥Ïö¥Ìä∏ Ïò§Î∏åÏ†ùÌä∏
const countObj = {};

priority.forEach((el) => {
  if (!countObj[el.genre]) {
    answer.push(el.index);
    countObj[el.genre] = 1;
  } else if (countObj[el.genre] < 2) {
    answer.push(el.index);
    countObj[el.genre] = countObj[el.genre] + 1;
  }
});
```

ÏµúÏ¢ÖÏ†ÅÏúºÎ°ú Ï†ÄÏû•Îêú `countObj` Í∞í

```jsx
{ pop: 2, classic: 2 }
```

# ü§î **Î∞∞Ïö∏Ï†ê**

---

Í∞ùÏ≤¥Î•º Ï†ïÎ†¨ÌïòÎäî Î≤ïÏóê ÎåÄÌï¥ÏÑú ÎßéÏù¥ Î∞∞Ïõ†Í≥† Î≥µÏû°Ìïú Íµ¨ÌòÑÏù¥ÎùºÎèÑ Ï∞®Í∑º Ï∞®Í∑º Ìïú ÌååÌä∏Ïî© Ìï¥Í≤∞ÏùÑ Ìï¥ÎÇòÍ∞ÑÎã§Î©¥ ÏñºÎßàÎì†ÏßÄ Íµ¨ÌòÑÏù¥ Í∞ÄÎä•ÌïòÎã§Îäî Ï†êÏùÑ Íπ®Îã¨ÏïòÏäµÎãàÎã§.