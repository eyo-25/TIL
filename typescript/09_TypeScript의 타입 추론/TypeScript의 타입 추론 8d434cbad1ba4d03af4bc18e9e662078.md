# TypeScript의 타입 추론

## ****타입 추론(Type Inference)의 기본****

---

타입 추론(Type Inference)은 변수나 함수의 타입을 선언하지 않아도 TypeScript가 자동으로 유추하는 기능입니다. 예를 들어, 다음과 같은 코드를 살펴보겠습니다.

```jsx
let isNumber = 123;
```

이 코드에서는 변수 `isNumber`를 선언하고, 숫자 `123`을 할당했습니다. 이 경우, 타입스크립트는 `isNumber`의 타입을 자동으로 숫자(Number)로 추론합니다.

## ****최적 공통 타입 (Best common type)****

---

TypeScript는 여러 표현식에서 타입 추론이 발생할 때, 해당 표현식의 타입을 사용하여 "최적 공통 타입"을 계산합니다. 아래와 같은 코드가 있다고 가정해 보겠습니다.

```jsx
let values = [0, 1, "글"]; // let values: (string | number)[]
```

위의 예시에서 `values` 배열은 `number`와 `string` 타입을 후보로 값을 가지고 있습니다.

최적 공통 타입 알고리즘은 각 후보의 타입을 고려하여, 모든 후보의 타입을 포함할 수 있는 타입을 선택합니다.

## ****문맥상의 타이핑(Contextual Typing)****

---

```jsx
function add(a:string, b:string) {
  return a + b;
}
// function add(a: string, b: string): string
// return값이 string으로 추론된다. 
```

`add` 함수는 두 개의 매개변수를 받아 더한 값을 반환합니다. 하지만 매개변수의 타입이 명시되어 있지 않습니다. 이 경우, 타입스크립트는 매개변수 `a`와 `b`의 타입을 자동으로 추론했습니다.

만약 매개변수 `a`와 `b`가 모두 글자(string) 타입이라면, `add` 함수의 반환 값도 글자(string) 타입으로 추론됩니다.

## ****타입 추론의 장점****

---

이런 타입 추론에는 몇 가지 장점이 있습니다.

1. 코드의 가독성 향상: 타입 추론을 사용하면 코드의 가독성이 향상됩니다. 명시적으로 타입을 지정하지 않아도 코드에서 변수의 타입을 알 수 있기 때문입니다.
2. 개발 생산성 향상: 타입 추론을 사용하면 코드 작성 시간을 단축할 수 있습니다. 명시적으로 타입을 지정하지 않아도 TypeScript가 자동으로 타입을 추론하기 때문입니다.
3. 오류 발견 용이성: 타입 추론을 사용하면 코드의 오류를 발견하는 것이 쉬워집니다. TypeScript는 변수나 함수의 타입을 추론하여 타입 검사를 수행하기 때문입니다.

## ****타입 추론의 단점****

---

그러나 타입 추론이 늘 좋은 것만은 아닙니다. 몇 가지 단점도 있습니다.

1. 타입 추론이 잘못될 경우 코드 오류 발생: 타입 추론은 TypeScript가 자동으로 수행하는 것이기 때문에, 추론이 잘못될 경우 코드 오류가 발생할 수 있습니다.
2. 명시적인 타입 지정이 필요한 경우가 있음: 타입 추론만으로는 부족한 경우가 있습니다. 특히, 복잡한 함수나 객체의 경우에는 명시적인 타입 지정이 필요할 수 있습니다.

따라서, 타입 추론은 TypeScript의 장점 중 하나이지만, 때에 따라 명시적인 타입 지정이 필요한 경우도 있습니다.